<div class="customer-form-container">
  <h2>{{ isEditMode ? 'Редактировать клиента' : 'Создать нового клиента' }}</h2>

  <div *ngIf="errorMessages.length" class="error-messages">
    <div *ngFor="let message of errorMessages" class="error-message">
      {{ message }}
    </div>
  </div>

  <form (ngSubmit)="onSubmit()" #customerForm="ngForm">
    <div class="form-group">
      <label for="name">Имя</label>
      <input type="text" id="name" 
             [(ngModel)]="customer.name" 
             name="name"
             required
             [class.invalid]="fieldErrors['name']">
      <div *ngIf="fieldErrors['name']" class="field-error">
        {{ fieldErrors['name'] }}
      </div>
    </div>

    <div class="form-group">
      <label for="phone">Телефон</label>
      <input type="text" id="phone" 
             [(ngModel)]="customer.phone" 
             name="phone"
             required
             [class.invalid]="fieldErrors['phone']">
      <div *ngIf="fieldErrors['phone']" class="field-error">
        {{ fieldErrors['phone'] }}
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" id="email" 
             [(ngModel)]="customer.email" 
             name="email"
             required
             [class.invalid]="fieldErrors['email']">
      <div *ngIf="fieldErrors['email']" class="field-error">
        {{ fieldErrors['email'] }}
      </div>
    </div>

    <div class="form-group">
      <label for="discountCard">Номер дисконтной карты</label>
      <input type="text" id="discountCard" 
             [(ngModel)]="customer.discountCard" 
             name="discountCard"
             [class.invalid]="fieldErrors['discountCard']">
      <div *ngIf="fieldErrors['discountCard']" class="field-error">
        {{ fieldErrors['discountCard'] }}
      </div>
    </div>

    <div class="form-group">
      <label for="discountRate">Процент скидки (%)</label>
      <input type="number" id="discountRate" 
             [(ngModel)]="customer.discountRate" 
             name="discountRate"
             min="0" max="100" step="1"
             [class.invalid]="fieldErrors['discountRate']">
      <div *ngIf="fieldErrors['discountRate']" class="field-error">
        {{ fieldErrors['discountRate'] }}
      </div>
    </div>

    <div class="form-actions">
      <button type="submit" class="btn-submit">
        {{ isEditMode ? 'Обновить' : 'Создать' }}
      </button>
      <button type="button" class="btn-cancel" (click)="onCancel()">
        Отмена
      </button>
    </div>
  </form>
</div>